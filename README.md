# Zotero

Zoteroリファレンス自動生成します。

Zoteroから出力（Export）できるファイルから、リファレンスを自動で生成する機能がついたものです。使い方については、YouTubeにて公開しております。

利用法については、大まかな流れは以下のとおりとなります。

※　YouTube視聴のリンクを押す際は、右クリックで「新しいタブで開く」を押すことをおすすめします。readmeのmarkdown記法は、別タブで開く機能をリンクにつけられないためです。

### （準備）chromeアドインZotero connectorを利用できるようにする方法

https://www.youtube.com/watch?v=CtztB3klSyQ

[![](https://img.youtube.com/vi/CtztB3klSyQ/0.jpg)](https://www.youtube.com/watch?v=CtztB3klSyQ)

### （登録）Zoteroへの新規登録方法

https://www.youtube.com/watch?v=0C_GHGgeZos

[![](https://img.youtube.com/vi/DroTD8dLLok/0.jpg)](https://www.youtube.com/watch?v=DroTD8dLLok)

### （１）zoteroからcsvをエクスポートする

https://www.youtube.com/watch?v=0C_GHGgeZos

[![](https://img.youtube.com/vi/0C_GHGgeZos/0.jpg)](https://www.youtube.com/watch?v=0C_GHGgeZos)

### （２）GitHubからリファレンス自動生成機能をダウンロードする

https://www.youtube.com/watch?v=t5rndVL7goU

[![](https://img.youtube.com/vi/t5rndVL7goU/0.jpg)](https://www.youtube.com/watch?v=t5rndVL7goU)

### （３）リファレンス自動生成機能の使い方

https://www.youtube.com/watch?v=Zoz6ZWiksbw

[![](https://img.youtube.com/vi/Zoz6ZWiksbw/0.jpg)](https://www.youtube.com/watch?v=Zoz6ZWiksbw)

### （４）タグの付け方（Zoteroデスクトップ版、web版どちらでも同じ方法でできます）

https://www.youtube.com/watch?v=noYxEoyusUc

[![](https://img.youtube.com/vi/noYxEoyusUc/0.jpg)](https://www.youtube.com/watch?v=noYxEoyusUc)

お手数おかけしますが、ご視聴の上利用方法をご理解いただけますと幸いです。

# 編集に関わる方が編集をやる前に注意すること

1. 右上の「sync（同期）」緑矢印ボタンを押して最新のデータに更新しておくこと。（Desktop版Zoteroのみ）
これをやらないと、コンフリクト（編集の衝突）が起こる可能性があります（未確認ですが、WordやExcelのようにファイルを複数人が開いた場合のように読み取り専用とかロックが掛かりませんので起こる可能性大）
→できれば、編集を行うときには事前に皆さんに周知するとか、したほうがいいかもしれません。

2. 大規模な編集を行う場合は、不慮の編集ミスをカバーするためにも、バックアップを取れますので（またはバックアップの方法をお伝えできますので）、必要な方は事前に近森まで伝えてください。バックアップの方法は誰でもできるような内容ですが、リストアの方法も理解していないといけませんので、自信がない、というケースもあるかと思います。

# 実務の流れ

### 業績管理の流れ（上のビデオのタイトルに対応しています）

1. **（準備）chromeアドインZotero connectorを利用できるようにする方法**　→　初めてZoteroをお使いになる方はここから。
2. **（登録）Zoteroへの新規登録方法**、**（４）タグの付け方**　→　業績があるごとに毎回行う操作。
3. **（１）zoteroからcsvをエクスポートする**　→　業績リストを作成する時期になったときに行う。
4. **（２）GitHubからリファレンス自動生成機能をダウンロードする**、**（３）リファレンス自動生成機能の使い方**　→　業績リストを本機能を用いて生成する。
5. 出力内容確認（全員。事務、研究員など）

### 各プロセスの担当

1. Zoteroを使おうと考えている方。
2. authorもしくは発表者が行う（ラボメンバー全員）か、事務の方どちらでもOK
3. 事務方全員（岩垣さん、東條さん、滝根さん）
4. 事務方全員（岩垣さん、東條さん、滝根さん）
5. 事務方及びauthorもしくは発表者全員。

###### 分からない点や技術的問題・課題がありましたら遠慮なく質問ください。

**■発表の場合**

| **カラム名**  | **入力する内容**    | **記載ルール**                                               |
| ------------- | ------------------- | ------------------------------------------------------------ |
| **Item Type** | **Journal Article** | **・発表であってもJournal  Articleを選択する**               |
| Title         | 発表タイトル        | ・日本語・英語共に学会に登録した正式タイトルを記載           |
| Author        | 発表者<br />著者    | ・2名以上の時は「,」で区切る。<br />・著者には〇や下線は付けない。<br />・筆頭著者は先頭、共著者の順番は変更しない。<br />・日本語の場合苗字と名前の間にスペースは入れない。<br />・日本語の例：夏目やよい, 長尾知生子, 水口賢司<br />・英語の例：Kenji Mizuguchi, Attayeb Mohsen, Lokesh  P. Tripathi |
| Publication   | 学会名              | ・日本語の場合：公式HPなどに記載されている正式名を入力する。（学会名だけではなく、第〇回、年会/講演会などの情報も）<br />・英語の場合：公式HPなどに記載されている略称を入力、なければ略さずに入力<br />・日本語例：CBI学会2020年大会、日本薬物動態学会第35回年会<br />・英語例：ISMB/ECCB 2019、ISDSB 2019 |
| **Date**      | **発表日**          | **・YYYY/MM/DD**                                             |
| **Extra**     | **開催場所**        | **・国内の場合：都道府県名<br />・国外の場合：都市名（国名）<br />・オンライン開催の場合：オンライン<br />・国内の例：東京、大阪<br />・国外の例：ジュネーブ（スイス）** |



**■学術論文以外の雑誌/書籍/新聞の場合**

| カラム名    | 入力する内容               | 記載ルール                                                   |
| ----------- | -------------------------- | ------------------------------------------------------------ |
| Item Type   | Journal Article            |                                                              |
| Title       | タイトル                   |                                                              |
| Author      | 発表者<br />著者           | ・2名以上の時は「,」で区切る。著者には〇や下線は付けない。<br />・筆頭著者は先頭、共著者の順番は変更しない。<br />・日本語の場合苗字と名前の間にスペースは入れない。  <br />・日本語の例：夏目やよい, 長尾知生子, 水口賢司  英語の例：Kenji Mizuguchi, Attayeb Mohsen, Lokesh  P. Tripathi |
| Publication | 雑誌<br />新聞<br />書籍名 |                                                              |
| Date        | 発行日                     | ・YYYY/MM/DD                                                   |
| **Extra**   | **URL<br />発行番号など**  | **・インターネット媒体の場合：URL<br />・新聞の場合：号番号（第号）<br />・雑誌の場合：巻数/号数・ページ番号<br />・書籍：出版社名・編者または監修者名・ページ番号** |





 

### 課題とTo do

- 作業の自由度を出来るだけ少なくするプロセスは必須（入力項目のルール化）

  →チュートリアルと明確なマニュアルの作成が必要

- 現在入っているデータの体裁を整える必要あり
  →入力ルールが明確になったらみなさんで作業を進める

- 抜けや重複を防ぐため、研究者本人による確認が必要
  →システムが出来上がったらラボメンバーに方法を通知する

- javascriptの機能を報告書に沿った形に整えていくことが必要
  →tagのルールを明確化、必ず必要と思われるtagは、"年度"、"プロジェクト"、"発表日時"
  
### タグについて

- タグは、すべてアンダーバー（_）で始まるように統一しております。アンダーバーで始まらないタグ名は本システムでは（デフォルトでは）表示されないようにしております。理由は、Zoteroでは英文論文などをchromeアドインにより新規登録したときに多くのタグが自動的に登録されることがあるからです。そして、これらのタグは本機能においてかさ高くなり、邪魔になり不要なものです。ですから、これらのタグは本機能においては（アンダーバーで始まらないものなので）表示されないようにしております。ただし、チェックボックス「アンダーバーで始まるタグ以外も表示する」を設けておりますので、必要なときには表示させることができます。
- 業績においてタグを加えるときは、まず頭文字としてアンダーバーから入力すれば、候補が出てきますのであとは候補を選べば、オートフィルで入力が完了します。
- 既存のタグにないタグは、新しく作ることができます。特殊な方法が必要なわけではありませんので、直接入力欄に打ち込んでください。ただし、既存のタグと１文字違いなどでかぶらないようにするためにも、既存のタグにどのようなものがあるかを前もって確認してください。
- 左上のMy Libraryをクリックすれば、左下にタグの一覧が出ます（一度も使われていないタグはここには出てきません）。または、タグ入力欄にて一文字だけアンダーバーを入力すれば、使えるタグの一覧が出ます。

- 暫定的ではありますが、tagについては下記の種類を揃えております。

#### ■1.（対象：全ての業績）業績の大きな区分を入力【アンダーバー1個】

- _paper（学術論文）
- _presentation（発表）
- _others（学術論文以外の雑誌・報道など）

#### ■2.（対象：全ての業績）業績の出た年を入力【アンダーバー2個】

- __2014
- __2015
- __2016
- __2017
- __2018
- __2019
- __2020

####  ■3. (対象：全ての業績）業績の出た年度を入力【アンダーバー3個】

- ___2019_FY（年度）
- ___2020_FY（年度）


#### ■4.（対象：全ての業績）詳細の区分を入力>【アンダーバー4個】

- ____【学術論文：査読付き】
- ____【学術論文：その他（総説・レビューなど）】
- ____【国内学会：一般講演】
- ____【国内学会：招待講演】
- ____【国際学会：一般講演】
- ____【国際学会：招待講演 】
- ____【その他（報道発表など）】
- ____【その他（委員会・審議会など）】

#### ■5. （対象：１で"_presentation"の業績）発表の種類を入力【アンダーバー5個】

- _____poster（ポスター発表）
- _____oral（口頭発表）

#### ■6. （対象：１で"_presentation"かつ学会発表の業績）学会の種類を入力【アンダーバー6個】

- ______international_conference（国際学会）
- ______domestic_conference（国内学会）

#### ■7.（対象：１で"_presentation"かつ招待講演の業績）【アンダーバー7個】

- _______invitation（招待講演）

#### ■8.（対象：該当するプロジェクトにおける業績）【アンダーバー8個】

- ________prism
- ________drug_dev_infoma

# 改修について

### 技術的情報

- 今後のバージョンアップに際して、皆さんからのフィードバックが必要ですので、適宜メールなどでお願いします。

- カラムの追加削除（現在のところ87カラムのうち、12カラムのみが読み込み対象となっております）については、改修が必要となります。
![名称未設定](https://user-images.githubusercontent.com/52732083/82809349-defc2080-9ec6-11ea-8723-fd597a2cec64.jpg)


  ```
  Publication_Year
  Author
  Title
  Publication_Title
  DOI
  Url
  Date
  Pages
  Issue
  Volume
  Journal_Abbreviation
  Extra
  ```

- リファレンスを生成し終わったら、どのような条件で生成したのかをスクリーンショットなどで私にお送りください。そうすれば、次回からその条件をプルダウン選択ひとつで出せるようにすることもできます。下の部分を画像でお送りいただければ幸いです。

![名称未設定](https://user-images.githubusercontent.com/52732083/82809568-5cc02c00-9ec7-11ea-9abc-75423644422c.jpg)


### 改修のためのフィードバックあれこれ

- 「タグを変更した、タグを追加削除したい」→本システムでは、入力された内容よりtagを自動で収集しておりますので、改修の必要なくお使いいただけます。



# 開発者メモ

（１）Zoteroデスクトップ版では重複に注意すること。

インポートをしていると知らないうちに重複がどんどん増えていき、コレクションを削除するときにも「Delete collection」（正しくは「Delete Collection and Items」）を選択してしまうと、Trashがとんでもない量のレコードで溢れているなんてこともある。

Zoteroデスクトップ版では、一気に消す機能がないみたいなので、1個1個消さなければならなくなる。そんなときには、C:\Users\chikamori\Zoteroを開いて見るとsqliteファイルがあるので、それらを削除すればよい。

better-bibtex.sqlite

better-bibtex.sqlite-journal

zotero.sqlite

zotero.sqlite-journal

ただ、削除できるのはZoteroを閉じているときのみ。これらのファイルはZoteroを開いたら、また生成できるので大丈夫。空のMy Libraryができる。

Zoteroのエクスポート、インポートは今の所Zotero RDFフォーマットで成功している。今のところは、これでやるのが無難か。

（２）XMLの編集知識のある方の場合は、Exportする際は、Zoter RDFを選択することもできる。編集後、そのrdfファイルをインポートすることができる。インポートする際は、新しいフォルダを生成し、その中にインポートするというオプションが出るので、ONにしてインポートする。
